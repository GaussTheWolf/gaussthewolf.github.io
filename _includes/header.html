<header class="border-dark border-left-0 border-right-0 border-top border-4">
    <div class="border border-bottom pb-2 pt-2">
        <div
            class="container width-limit position-relative d-flex justify-content-between align-items-center"
        >
            {% assign default_paths = site.pages | map: "path" %}
	    {% assign page_paths = site.header_pages | default: default_paths %}
            <a
                class="font-monospace hover-uppercase h4 m-0 text-decoration-none"
                href="{{ '/' | relative_url }}"
                >{{ site.title | escape }}</a
            >

            <div class="d-flex align-items-center">
                <div class="toggle-switch">
                    <label class="darkmode-label">
                        <input
                            class="darkmode-toggle"
                            type="checkbox"
                            onchange="darkMode(this)"
                        />
                        <span class="slider"></span>
                    </label>
                </div>
                {% if page_paths %}
                <div
                    class="d-md-none"
                    style="margin-left: 3.5rem; margin-bottom: 2.5rem"
                ></div>
                <nav
                    id="nav-menu-container"
                    class="text-right navbar-light border border-none-md border-1 rounded-1 ms-3"
                >
                    <input type="checkbox" id="nav-trigger" class="d-none" />
                    <label
                        for="nav-trigger"
                        aria-label="button"
                        role="button"
                        class="m-2 d-inline-block d-md-none navbar navbar-toggler-icon float-end"
                    >
                    </label>

                    <div id="nav-menu" class="d-md-block">
                        {% for path in page_paths %}
			{% assign my_page = site.pages | where: "path", path | first %}
			{% if my_page.title and my_page.navbar %}
                        <a
                            style="color: var(--bs-body-color)"
                            class="ml-3 ml-md-0 p-2 d-block d-md-inline-block"
                            href="{{ my_page.url | relative_url }}"
                            >{{ my_page.title | escape }}</a
                        >
                        {% endif %}
			{% endfor %}
                    </div>
                </nav>
                {% endif %}
            </div>
        </div>
    </div>
</header>
